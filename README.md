# PHP RSA Encryption and Decryption Script

Этот проект содержит скрипты для шифрования и расшифровки сообщений с использованием алгоритма RSA с выравниванием OAEP и хэш-функцией SHA-256. Шифрование и расшифровка выполняются в соответствии со схемой RSA/ECB/OAEPWithSHA-256AndMGF1Padding.

## Описание

- **Шифрование**: Скрипт принимает открытый ключ в формате PEM и сообщение, шифрует сообщение с использованием алгоритма RSA и схемы выравнивания OAEP с SHA-256, а затем возвращает зашифрованное сообщение в формате Base64.
- **Расшифровка**: Скрипт принимает зашифрованное сообщение в формате Base64 и приватный ключ в формате PKCS#8 (также закодирован в PEM), расшифровывает сообщение и выводит его в исходном виде.

## Требования

- PHP
- OpenSSL (версия 3.0 или выше) должна быть установлена и доступна через командную строку.

## Использование

### Шифрование

1. Поместите ваш открытый ключ в файл `public_key.pem` в том же каталоге, где находится скрипт для шифрования. Вы можете использовать тестовый ключ `test_public_pkcs8_key.pem`, который предоставлен в проекте.

2. Убедитесь, что OpenSSL установлен и доступен:

   ```bash
   openssl version
   ```

3. Запустите скрипт для шифрования:

   ```bash
   php encrypt.php
   ```

4. Скрипт выведет зашифрованное сообщение в формате Base64.

### Расшифровка

1. Поместите ваш приватный ключ в файл `red_dev_test_private_pkcs8_key.pem` в том же каталоге, где находится скрипт для расшифровки. Вы можете использовать тестовый ключ `test_private_pkcs8_key.pem`, который предоставлен в проекте.

2. Запустите скрипт для расшифровки:

   ```bash
   php decrypt.php
   ```

3. Скрипт выведет расшифрованное сообщение.

## Проблематика и объяснение

### Почему используется SHA-256 для OAEP?

- **Безопасность**: SHA-256 обеспечивает более высокий уровень безопасности по сравнению с устаревшими алгоритмами, такими как SHA-1. Он лучше защищен от атак, направленных на хэш-функции.
- **Совместимость со стандартами**: Многие современные стандарты безопасности требуют использования SHA-256 для всех криптографических операций, включая шифрование и выравнивание.

### Почему используется командная строка и OpenSSL?

- **Гибкость**: PHP предоставляет ограниченную поддержку для настройки параметров OAEP. Использование командной строки OpenSSL позволяет указать конкретные параметры, такие как алгоритм хэширования, что невозможно сделать через стандартные функции PHP.
- **Использование временных файлов**: Временные файлы обеспечивают удобный способ передачи данных между PHP и OpenSSL, когда команды требуют ввода и вывода через файлы.

## Тестовые ключи

В проекте содержатся тестовые ключи:

- `test_public_pkcs8_key.pem`: Тестовый открытый ключ для шифрования в формате PEM.
- `test_private_pkcs8_key.pem`: Тестовый приватный ключ для расшифровки в формате PEM.

Эти ключи можно использовать для тестирования скриптов. Они не предназначены для использования в производственной среде, так как они не обеспечивают защиту от несанкционированного доступа.